!function(e){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function n(e){BootstrapDialog.show({type:BootstrapDialog.TYPE_DANGER,title:'<i class="fa fa-times"></i> Error',message:e,buttons:[{label:"Ok",cssClass:"btn-danger",action:function(e){e.close()}}]})}function a(t,n){t.enableButtons(!0),t.setClosable(!0),e(".bootstrap-dialog").removeClass("type-info type-default").addClass("type-danger"),e(".bootstrap-dialog-footer-buttons .btn").removeClass("btn-primary btn-default").addClass("btn-danger"),e(".bootstrap-dialog-title").html('<i class="fa fa-times"></i> Error'),e(".bootstrap-dialog-message").html(n)}function i(t,n){t.enableButtons(!0),t.setClosable(!0),e(".bootstrap-dialog").removeClass("type-info type-default").addClass("type-success"),e(".bootstrap-dialog-footer-buttons .btn").removeClass("btn-danger btn-default").addClass("btn-primary"),e(".bootstrap-dialog-title").html('<i class="fa fa-check"></i> Success'),e(".bootstrap-dialog-message").html(n)}function o(){"pwna"==t("pagename")&&e('.page-content a[href*="?pagename"]').each(function(){var t=e(this).attr("href");t=t.replace("pagename=","pagename=pwna&page="),e(this).attr("href",t)})}e.fn.bindLuminateForm=function(t){var a=e.extend({onBeforeLuminateExtendSubmit:e.noop,customFormValidation:function(){return[]}},t||{}),i=e(this);return i.unbind("submit").bind("submit",function(t){var o=!1,s=[];i.find(".required").each(function(){var t=e(this).attr("name");if(e(this).parent(".input-group").removeClass("has-error"),e('label[for="'+t+'"]').removeClass("error"),"radio"===e(this).attr("type"))e('input[name="'+t+'"]:checked').val()||(e('label[for="'+t+'"]').addClass("error"),o=!0);else{var n=e.trim(e(this).val());""===n&&(e(this).parent(".input-group").addClass("has-error"),o=!0)}});var r=luminateExtend.utils.ensureArray(a.customFormValidation());if(r.length>0&&(o=!0,s.push(r)),o){if(s.length>0){var l;if(s.length>1){l=e("<ul></ul>");for(var u=0;u<s.length;u++)l.append(e("<li>"+s[u]+"</li>"))}else l=e('<div class="text-danger">'+s[0]+"</div>");n(l)}}else a.onBeforeLuminateExtendSubmit(),BootstrapDialog.show({type:BootstrapDialog.TYPE_INFO,closable:!1,title:'<i class="fa fa-cog fa-spin"></i> Submitting your request',message:"Please wait ...",buttons:[{label:"Close",cssClass:"btn-default",action:function(e){e.close()}}],onshown:function(e){window.luminateSubmitForm=i,window.luminateSubmitDialog=e,e.enableButtons(!1),i.unbind("submit"),luminateExtend.api.bind(),i.submit()}});t.preventDefault()}),i.hasClass("auto-submit")&&i.submit(),this},e.fn.bindSignupForm=function(){var t=e(this);return t.bindLuminateForm({customFormValidation:function(){var n=[],a=t.find('input[name="cons_email"]');return""===e.trim(a.val())&&n.push("Please enter your email address."),n}}),this},window.emailSignupCallback={error:function(e){a(window.luminateSubmitDialog,e.errorResponse.message)},success:function(t){if("false"==t.submitSurveyResponse.success){var n=luminateExtend.utils.ensureArray(t.submitSurveyResponse.errors),o="";e.each(n,function(){this.errorField&&(o+="<div>"+this.errorMessage+"</div>")}),a(window.luminateSubmitDialog,o)}else window.luminateSubmitForm.get(0).reset(),i(window.luminateSubmitDialog,"Thank you for signing up!");window.luminateSubmitForm.bindSignupForm()}},e(".js-signup-form").each(function(){e(this).bindSignupForm()}),o(),e("input, textarea").placeholder(),e.trim(e(".announcement .box").html()).length&&(e(".announcement").addClass("expand"),e(".announcement .container-fluid").slideToggle("slow"),e(".dismiss").click(function(t){e(".announcement").fadeOut("fast",function(){e(".announcement").removeClass("expand")}),t.preventDefault()})),e(window).width()>769&&e(".navbar .dropdown > a").click(function(){location.href=this.href}),e(".payment-type-option").click(function(){e(this).find("input").prop("checked",!0)}),e(".accordion-title").click(function(){e(".accordion-title").removeClass("active"),e(".accordion-content").slideUp("normal"),1==e(this).next().is(":hidden")&&(e(this).addClass("active"),e(this).next().slideDown("normal"))}),e(".accordion-content").hide()}(jQuery);