!function(t){function e(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function n(t){BootstrapDialog.show({type:BootstrapDialog.TYPE_DANGER,title:'<i class="fa fa-times"></i> Error',message:t,buttons:[{label:"Ok",cssClass:"btn-danger",action:function(t){t.close()}}]})}function a(e,n){e.enableButtons(!0),e.setClosable(!0),t(".bootstrap-dialog").removeClass("type-info type-default").addClass("type-danger"),t(".bootstrap-dialog-footer-buttons .btn").removeClass("btn-primary btn-default").addClass("btn-danger"),t(".bootstrap-dialog-title").html('<i class="fa fa-times"></i> Error'),t(".bootstrap-dialog-message").html(n)}function i(e,n){e.enableButtons(!0),e.setClosable(!0),t(".bootstrap-dialog").removeClass("type-info type-default").addClass("type-success"),t(".bootstrap-dialog-footer-buttons .btn").removeClass("btn-primary btn-danger btn-default").addClass("btn-success"),t(".bootstrap-dialog-title").html('<i class="fa fa-check"></i> Success'),t(".bootstrap-dialog-message").html(n)}function o(){"pwna"==e("pagename")&&t('.page-content a[href*="?pagename"]').each(function(){var e=t(this).attr("href");e=e.replace("pagename=","pagename=pwna&page="),t(this).attr("href",e)})}t.fn.bindLuminateForm=function(e){var a=t.extend({onBeforeLuminateExtendSubmit:t.noop,customFormValidation:function(){return[]}},e||{}),i=t(this);return i.unbind("submit").bind("submit",function(e){var o=!1,s=[];i.find(".required").each(function(){var e=t(this).attr("name");if(t(this).parent(".input-group").removeClass("has-error"),t('label[for="'+e+'"]').removeClass("error"),"radio"===t(this).attr("type"))t('input[name="'+e+'"]:checked').val()||(t('label[for="'+e+'"]').addClass("error"),o=!0);else{var n=t.trim(t(this).val());""===n&&(t(this).parent(".input-group").addClass("has-error"),o=!0)}});var r=luminateExtend.utils.ensureArray(a.customFormValidation());if(r.length>0&&(o=!0,s.push(r)),o){if(s.length>0){var l;if(s.length>1){l=t("<ul></ul>");for(var u=0;u<s.length;u++)l.append(t("<li>"+s[u]+"</li>"))}else l=t('<div class="text-danger">'+s[0]+"</div>");n(l)}}else a.onBeforeLuminateExtendSubmit(),BootstrapDialog.show({type:BootstrapDialog.TYPE_INFO,closable:!1,title:'<i class="fa fa-cog fa-spin"></i> Submitting your request',message:"Please wait ...",buttons:[{label:"Close",cssClass:"btn-default",action:function(t){t.close()}}],onshown:function(t){window.luminateSubmitForm=i,window.luminateSubmitDialog=t,t.enableButtons(!1),i.unbind("submit"),luminateExtend.api.bind(),i.submit()}});e.preventDefault()}),i.hasClass("auto-submit")&&i.submit(),this},t.fn.bindSignupForm=function(){var e=t(this);return e.bindLuminateForm({customFormValidation:function(){var n=[],a=e.find('input[name="cons_email"]');return""===t.trim(a.val())&&n.push("Please enter your email address."),n}}),this},window.emailSignupCallback={error:function(t){a(window.luminateSubmitDialog,t.errorResponse.message)},success:function(e){if("false"==e.submitSurveyResponse.success){var n=luminateExtend.utils.ensureArray(e.submitSurveyResponse.errors),o="";t.each(n,function(){this.errorField&&(o+="<div>"+this.errorMessage+"</div>")}),a(window.luminateSubmitDialog,o)}else window.luminateSubmitForm.get(0).reset(),i(window.luminateSubmitDialog,"Thank you for signing up!");window.luminateSubmitForm.bindSignupForm()}},t(".js-signup-form").each(function(){t(this).bindSignupForm()}),o(),t.trim(t(".announcement .box").html()).length&&(t(".announcement").addClass("expand"),t(".announcement .container-fluid").slideToggle("slow"),t(".dismiss").click(function(e){t(".announcement").fadeOut("fast",function(){t(".announcement").removeClass("expand")}),e.preventDefault()})),t(window).width()>769&&t(".navbar .dropdown > a").click(function(){location.href=this.href}),t(".payment-type-option").click(function(){t(this).find("input").prop("checked",!0)}),t(".accordion-title").click(function(){t(".accordion-title").removeClass("active"),t(".accordion-content").slideUp("normal"),1==t(this).next().is(":hidden")&&(t(this).addClass("active"),t(this).next().slideDown("normal"))}),t(".accordion-content").hide()}(jQuery);