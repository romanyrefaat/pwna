!function(t){function e(t){BootstrapDialog.show({type:BootstrapDialog.TYPE_DANGER,title:'<i class="fa fa-times"></i> Error',message:t,buttons:[{label:"Ok",cssClass:"btn-danger",action:function(t){t.close()}}]})}function i(e,i){e.enableButtons(!0),e.setClosable(!0),t(".bootstrap-dialog").removeClass("type-info,type-default").addClass("type-danger"),t(".bootstrap-dialog-footer-buttons .btn").removeClass("btn-primary,btn-default").addClass("btn-danger"),t(".bootstrap-dialog-title").html('<i class="fa fa-times"></i> Error'),t(".bootstrap-dialog-message").html(i)}function n(e,i){e.enableButtons(!0),e.setClosable(!0),t(".bootstrap-dialog").removeClass("type-info,type-default").addClass("type-success"),t(".bootstrap-dialog-footer-buttons .btn").removeClass("btn-primary,btn-danger,btn-default").addClass("btn-success"),t(".bootstrap-dialog-title").html('<i class="fa fa-check"></i> Success'),t(".bootstrap-dialog-message").html(i)}t.fn.bindLuminateForm=function(i){var n=t.extend({onBeforeLuminateExtendSubmit:t.noop,customFormValidation:function(){return[]}},i||{}),a=t(this);return a.unbind("submit").bind("submit",function(i){var s=!1,o=[];a.find(".required").each(function(){var e=t(this).attr("name");if(t(this).parent(".input-group").removeClass("has-error"),t('label[for="'+e+'"]').removeClass("error"),"radio"===t(this).attr("type"))t('input[name="'+e+'"]:checked').val()||(t('label[for="'+e+'"]').addClass("error"),s=!0);else{var i=t.trim(t(this).val());""===i&&(t(this).parent(".input-group").addClass("has-error"),s=!0)}});var r=luminateExtend.utils.ensureArray(n.customFormValidation());if(r.length>0&&(s=!0,o.push(r)),s){if(o.length>0){var l;if(o.length>1){l=t("<ul></ul>");for(var u=0;u<o.length;u++)l.append(t("<li>"+o[u]+"</li>"))}else l=t('<div class="text-danger">'+o[0]+"</div>");e(l)}}else n.onBeforeLuminateExtendSubmit(),BootstrapDialog.show({type:BootstrapDialog.TYPE_INFO,closable:!1,title:'<i class="fa fa-cog fa-spin"></i> Submitting your request',message:"Please wait ...",buttons:[{label:"Close",cssClass:"btn-default",action:function(t){t.close()}}],onshown:function(t){window.luminateSubmitForm=a,window.luminateSubmitDialog=t,t.enableButtons(!1),a.unbind("submit"),luminateExtend.api.bind(),a.submit()}});i.preventDefault()}),a.hasClass("auto-submit")&&a.submit(),this},t.fn.bindSignupForm=function(){var e=t(this);return e.bindLuminateForm({customFormValidation:function(){var i=[],n=e.find('input[name="cons_email"]');return""===t.trim(n.val())&&i.push("Please enter your email address."),i}}),this},window.emailSignupCallback={error:function(t){i(window.luminateSubmitDialog,t.errorResponse.message)},success:function(e){if("false"==e.submitSurveyResponse.success){var a=luminateExtend.utils.ensureArray(e.submitSurveyResponse.errors),s="";t.each(a,function(){this.errorField&&(s+="<div>"+this.errorMessage+"</div>")}),i(window.luminateSubmitDialog,s)}else window.luminateSubmitForm.get(0).reset(),n(window.luminateSubmitDialog,"Thank you for signing up!");window.luminateSubmitForm.bindSignupForm()}},t(".js-signup-form").each(function(){t(this).bindSignupForm()}),t(window).width()>769&&t(".navbar .dropdown > a").click(function(){location.href=this.href}),t(".payment-type-option").click(function(){t(this).find("input").prop("checked",!0)})}(jQuery);